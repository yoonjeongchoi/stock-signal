---
title: "[바이브 코딩 #10] AI 주식 시그널 아카이브: 10일간의 여정과 뜻밖의 트러블슈팅"
date: "2026-03-01"
tags: "티스토리API, 자동화, 파이썬스크립트, 웹서비스화, 개발일기, 성장기록, Streamlit, 트러블슈팅"
---

"코딩은 기세다."

**토스 증권 시그널 클론 코딩** 프로젝트가 드디어 10일 차라는 중대한 이정표에 도달했습니다. 초기에는 단순히 주식 정보를 모아보자는 가벼운 마음으로 시작했지만, 이제는 Gemini AI가 뉴스를 요약하고 GitHub Actions가 24시간 데이터를 수집하며 Streamlit이 이를 시각화하는 제법 탄탄한 시스템이 되었습니다. 오늘 기록은 10일간의 여정을 돌아보고, 구조 개편 과정에서 겪은 치열한 트러블슈팅 과정을 담고 있습니다.

## 10일간의 여정: 파이썬 기반 아카이브의 완성

지난 10일간 우리 시스템은 기대 이상의 진화를 거듭했습니다. 국내외 주식 시장의 주요 시그널을 감지하고, 관련 뉴스를 매칭하며, AI를 통해 복잡한 시장 상황을 한 줄로 요약하는 기능을 완성했습니다. 특히 별도의 서버 없이도 GitHub Actions와 Streamlit Cloud라는 클라우드 인프라를 효율적으로 결합하여 '서버리스 데이터 파이프라인'을 성공적으로 구축했다는 점에서 큰 성취감을 느낍니다.

실시간으로 쏟아지는 방대한 뉴스 데이터 속에서 의미 있는 '시그널'을 찾아내고, 이를 테마별로 정리하여 투자자들에게 제공하는 프로세스는 이제 시스템적으로 안착되었습니다. 데이터 품질을 유지하기 위한 전수 검사 스크립트와 메타데이터 관리 체계까지 갖춤으로써, 단순한 수집기를 넘어 신뢰할 수 있는 데이터 아카이브의 면모를 갖추게 되었습니다.

## 구조 정리와 뜻밖의 배포 오류 (Troubleshooting)

프로젝트가 커짐에 따라 코드의 유지보수성을 높이기 위해 디렉터리 구조를 체계적으로 정리하기로 했습니다. 기존에 루트에 어지럽게 흩어져 있던 파일들을 기능별 폴더로 분류하고, Streamlit 관련 파일들을 `signal/streamlit/` 폴더로 모으는 작업을 진행했습니다. 그런데 여기서 예상치 못한 복병을 만났습니다.

### 문제 발생: "The main module file does not exist"
구조를 정리하고 나니 멀쩡히 돌아가던 Streamlit Cloud에서 배포 오류가 발생했습니다. Streamlit Cloud는 기본적으로 저장소 루트에 있는 `app.py`를 실행 파일로 기대하는데, 우리가 이를 하위 폴더로 옮기면서 경로를 찾지 못하게 된 것입니다. 로그에는 빨간 글씨로 메인 모듈을 찾을 수 없다는 메시지만 가득했습니다.

### 1차 시도: `streamlit.toml`을 통한 경로 지정
배포 설정을 코드로 제어하기 위해 레포지토리 루트에 `streamlit.toml` 파일을 추가했습니다.
```toml
[global]
file = "signal/streamlit/app.py"
```
이 설정을 통해 해결될 것으로 기대했으나, Streamlit Cloud의 캐시 정책이나 UI의 환경 설정 우선순위 문제로 인해 여전히 이전 경로를 고집하며 실패가 반복되었습니다. "구조는 예뻐졌지만, 서비스는 멈췄다"라는 뼈아픈 교훈을 얻은 순간이었습니다.

### 최종 해결: 기본 구조 복구와 지능적 임포트 수정
결국 복잡한 설정보다는 가장 확실하고 견고한 방법을 선택했습니다. `app.py`를 다시 레포지토리 루트로 이동시켰습니다. 다만, 이번에는 단순히 위치만 옮기는 것이 아니라, 내부에서 `backend` 모듈을 불러올 때 경로 이슈가 발생하지 않도록 로직을 보강했습니다.

```python
# app.py 상단의 유연한 경로 로직
import os, sys
sys.path.append(os.path.dirname(__file__))
from backend import crawler
```

기존에는 부모 디렉터리(`..`)를 참조하던 상대 경로 방식을 현재 파일 위치를 기반으로 한 유연한 경로 추가 방식으로 수정했습니다. 이를 통해 로컬 개발 환경과 Streamlit Cloud의 어떠한 배포 환경에서도 모듈 간 참조 오류 없이 안정적으로 작동하게 되었습니다. 불필요해진 `streamlit.toml`은 삭제하고, 강제 재배포를 위한 빈 커밋을 통해 마침내 서비스 정상화를 확인했습니다.

## 기록을 마치며

3월의 시작과 함께 찾아온 배포 오류는 자칫 당황스러울 수 있었지만, 오히려 프로젝트의 구조적 안정성을 한층 높이는 계기가 되었습니다. 10일이라는 짧은 시간 동안 밑바닥부터 쌓아 올린 이 시스템은 이제 다음 단계로 나아갈 준비가 되었습니다. 시스템은 안정되었고, 데이터는 매일 쌓이고 있으며, 우리의 기세는 여전히 뜨겁습니다.

---

## 오늘의 개발 요약

목표: 10일 차 성과 정리 및 디렉터리 구조 최적화 과정에서의 트러블슈팅 완료
도구: Python, Streamlit Cloud, Git
 
*태그: 티스토리API, 자동화, 파이썬스크립트, 웹서비스화, 개발일기, 성장기록, Streamlit, 트러블슈팅*
